{"remainingRequest":"/Users/unlogic/sopo/node_modules/babel-loader/lib/index.js!/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/sopo/src/components/logist/actionsWrap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/unlogic/sopo/src/components/logist/actionsWrap.vue","mtime":1578974062000},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG15Tm90aWZpY2F0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9vdGhlci9ub3RpZmljYXRpb24udnVlJzsKaW1wb3J0IEZ1bmNzIGZyb20gIi4uLy4uL2Fzc2V0cy9qcy1mdW5jcy9kZWZhdWx0LWZ1bmNzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhY3Rpb25zV3JhcCcsCiAgY29tcG9uZW50czogewogICAgbXlOb3RpZmljYXRpb246IG15Tm90aWZpY2F0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm90X3RleHQ6ICdFcnJvcicsCiAgICAgIG5vdF9jb2xvcjogJ3JlZCcsCiAgICAgIGlzX25vdF9zaG93OiBmYWxzZSwKICAgICAgY3VycmVudFN0YXR1czogJ9Ci0L7QstCw0YAg0L7RgtCz0YDRg9C20LXQvScKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93Tm90aWZpY2F0aW9uOiBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKHRleHQsIGNvbG9yKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm5vdF90ZXh0ID0gdGV4dDsKICAgICAgdGhpcy5ub3RfY29sb3IgPSBjb2xvcjsKICAgICAgdGhpcy5pc19ub3Rfc2hvdyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzX25vdF9zaG93ID0gZmFsc2U7CiAgICAgIH0sIDE1MDApOwogICAgfSwKICAgIHNhdmVDaGFuZ2VzOiBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYXJyID0gbmV3IEFycmF5KCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLnR0bnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IHRoaXMuJHN0b3JlLnN0YXRlLnR0bnNbaV07CgogICAgICAgIGlmIChpdGVtLmlzQ2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICB2YXIgb2xkID0gaXRlbS5UVE5TdGF0dXM7CiAgICAgICAgICBpdGVtLlRUTlN0YXR1cyA9IHRoaXMuY3VycmVudFN0YXR1czsKICAgICAgICAgIGFyci5wdXNoKGl0ZW0pOwogICAgICAgICAgYXJyW2Fyci5sZW5ndGggLSAxXS5vbGRfc3RhdHVzID0gb2xkOwogICAgICAgIH0KICAgICAgfQoKICAgICAgRnVuY3MuZG9SZXF1ZXN0KCdwb3N0JywgJ2h0dHBzOi8vZXJwLnVubG9naWMucnUvYXBpL3YxL2xvZ2lzdGljL3R0bicsIGFyciwgZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBjb2xvciA9ICdncmVlbic7CgogICAgICAgIGlmIChyZXMuZGF0YS5lcnJvcikgewogICAgICAgICAgY29sb3IgPSAncmVkJzsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5zaG93Tm90aWZpY2F0aW9uKHJlcy5kYXRhLmRhdGEsIGNvbG9yKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zaG93Tm90aWZpY2F0aW9uKCfQodC10YDQstC10YAg0LLRgNC10LzQtdC90L3QviDQvdC10LTQvtGB0YLRg9C/0LXQvScsICdyZWQnKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0U29tZTogZnVuY3Rpb24gZ2V0U29tZSgpIHsKICAgICAgdmFyIGFyciA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VHRuczsKICAgICAgdmFyIGZsYWcgPSBmYWxzZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGFycltpXS5pc0NoZWNrZWQgPT0gdHJ1ZSkgZmxhZyA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmbGFnOwogICAgfQogIH0KfTs="},{"version":3,"sources":["actionsWrap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,cAAA,MAAA,qCAAA;AACA,OAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,OADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,IADA,EACA,KADA,EACA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KARA;AASA,IAAA,WATA,yBASA;AAAA;;AACA,UAAA,GAAA,GAAA,IAAA,KAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AACA,YAAA,IAAA,CAAA,SAAA,IAAA,IAAA,EAAA;AACA,cAAA,GAAA,GAAA,IAAA,CAAA,SAAA;AACA,UAAA,IAAA,CAAA,SAAA,GAAA,KAAA,aAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,GAAA,CAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,UAAA,GAAA,GAAA;AACA;AACA;;AACA,MAAA,KAAA,CAAA,SAAA,CACA,MADA,EAEA,4CAFA,EAGA,GAHA,EAIA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,OAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA;AACA;;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA;AACA,OAVA,EAWA,YAAA;AAAA,QAAA,MAAA,CAAA,gBAAA,CAAA,4BAAA,EAAA,KAAA;AAAA,OAXA;AAaA;AAjCA,GAbA;AAgDA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,GAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA,UAAA,IAAA,GAAA,KAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,GAAA,CAAA,CAAA,CAAA,CAAA,SAAA,IAAA,IAAA,EACA,IAAA,GAAA,IAAA;AACA;;AACA,aAAA,IAAA;AACA;AATA;AAhDA,CAAA","sourcesContent":["<template>\n\t<transition name=\"slide-fade\">\n\t\t<div class=\"actions-wrap\" v-show=\"getSome\">\n\t\t\t<select v-model=\"currentStatus\">\n\t\t\t\t<option value=\"Товар отгружен\">Товар отгружен</option>\n\t\t\t\t<option value=\"Отменено\">Отменено</option>\n\t\t\t\t<option value=\"Товар получен\">Товар получен</option>\n\t\t\t</select>\n\t\t\t<input type=\"date\">\n\t\t\t<div class=\"btn-wrap\">\n\t\t\t\t<button @click=\"saveChanges()\">Изменить</button>\n\t\t\t</div>\n\t\t\t<myNotification\n\t\t\t\t\t:text=\"not_text\"\n\t\t\t\t\t:textColor=\"not_color\"\n\t\t\t\t\tv-show=\"is_not_show\"/>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../../assets/js-funcs/default-funcs.js'\n\n\texport default {\n\t\tname: 'actionsWrap',\n\t\tcomponents: {\n\t\t\tmyNotification\n\t\t},\n\t\tdata: () => {\n\t\t\treturn {\n\t\t\t\tnot_text: 'Error',\n\t\t\t\tnot_color: 'red',\n\t\t\t\tis_not_show: false,\n\t\t\t\tcurrentStatus: 'Товар отгружен'\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tshowNotification(text, color) {\n\t\t\t\tthis.not_text = text;\n\t\t\t\tthis.not_color = color;\n\t\t\t\tthis.is_not_show = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.is_not_show = false;\n\t\t\t\t}, 1500);\n\t\t\t},\n\t\t\tsaveChanges() {\n\t\t\t\tlet arr = new Array();\n\t\t\t\tfor (let i = 0; i < this.$store.state.ttns.length; i++) {\n\t\t\t\t\tlet item = this.$store.state.ttns[i];\n\t\t\t\t\tif (item.isChecked == true) {\n\t\t\t\t\t\tlet old = item.TTNStatus;\n\t\t\t\t\t\titem.TTNStatus = this.currentStatus;\n\t\t\t\t\t\tarr.push(item);\n\t\t\t\t\t\tarr[arr.length-1].old_status = old;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tFuncs.doRequest(\n\t\t\t\t\t'post',\n\t\t\t\t\t'https://erp.unlogic.ru/api/v1/logistic/ttn',\n\t\t\t\t\tarr,\n\t\t\t\t\tres => {\n\t\t\t\t\t\tlet color = 'green';\n\t\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showNotification(res.data.data, color);\n\t\t\t\t\t},\n\t\t\t\t\t() => { this.showNotification('Сервер временно недоступен', 'red') }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tgetSome() {\n\t\t\t\tlet arr = this.$store.getters.getTtns;\n\t\t\t\tlet flag = false;\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].isChecked == true)\n\t\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t\treturn flag;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t@import url('../../assets/less-templates/base.less');\n\t.actions-wrap {\n\t\t.flex(row, space-between, center);\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tmargin: 10px 0;\n\t\tpadding: 10px;\n\n\t\t& input, select {\n\t\t\t.input();\n\t\t\twidth: 45%;\n\t\t}\n\n\t\t& .btn-wrap {\n\t\t\t.flex(row, center, center);\n\t\t\twidth: 100%;\n\t\t\tmargin: 10px 0 0 0;\n\t\t}\n\n\t\t& button {\n\t\t\t.button(5px, @green-color, #fff);\n\t\t\tmargin: 0 5px;\n\t\t}\n\n\t\t& button:last-child {\n\t\t\t.button(5px, #fff, @green-color);\n\t\t}\n\t}\n\n\t.slide-fade-enter-active {\n\t\ttransition: all .3s linear;\n\t}\n\t.slide-fade-leave-active {\n\t\ttransition: all .2s linear;\n\t}\n\t.slide-fade-enter {\n\t\ttransform: translateY(20px);\n\t\topacity: 0;\n\t}\n\t.slide-fade-leave-to {\n\t\ttransform: translateY(-20px);\n\t\topacity: 0;\n\t}\n</style>\n"],"sourceRoot":"src/components/logist"}]}