{"remainingRequest":"/Users/unlogic/innerServices/node_modules/babel-loader/lib/index.js!/Users/unlogic/innerServices/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/unlogic/innerServices/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/innerServices/src/views/Sellers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/unlogic/innerServices/src/views/Sellers.vue","mtime":1580378367812},{"path":"/Users/unlogic/innerServices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBTYWxlIGZyb20gJ0AvY29tcG9uZW50cy9zZWxsZXJzL3NhbGUudnVlJzsKaW1wb3J0IFNhbGVNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvc2VsbGVycy9zYWxlTW9kYWwudnVlJzsKaW1wb3J0IE15SGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9vdGhlci9teUhlYWRlci52dWUnOwppbXBvcnQgbXlOb3RpZmljYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL290aGVyL25vdGlmaWNhdGlvbi52dWUnOwppbXBvcnQgRnVuY3MgZnJvbSAiLi4vYXNzZXRzL2pzLWZ1bmNzL2RlZmF1bHQtZnVuY3MuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NlbGxlcnMnLAogIGNvbXBvbmVudHM6IHsKICAgIE15SGVhZGVyOiBNeUhlYWRlciwKICAgIFNhbGU6IFNhbGUsCiAgICBTYWxlTW9kYWw6IFNhbGVNb2RhbCwKICAgIG15Tm90aWZpY2F0aW9uOiBteU5vdGlmaWNhdGlvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdF90ZXh0OiAnRXJyb3InLAogICAgICBub3RfY29sb3I6ICdyZWQnLAogICAgICBpc01vZGFsT3BlbjogZmFsc2UsCiAgICAgIGlzX25vdF9zaG93OiBmYWxzZSwKICAgICAgY29uZmlybUFycjogbmV3IEFycmF5KCksCiAgICAgIGxlYXJuQXJyOiBuZXcgQXJyYXkoKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dOb3RpZmljYXRpb246IGZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24odGV4dCwgY29sb3IpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubm90X3RleHQgPSB0ZXh0OwogICAgICB0aGlzLm5vdF9jb2xvciA9IGNvbG9yOwogICAgICB0aGlzLmlzX25vdF9zaG93ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNfbm90X3Nob3cgPSBmYWxzZTsKICAgICAgfSwgMTUwMCk7CiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIEZ1bmNzLmRvUmVxdWVzdCgnZ2V0JywgJ2h0dHBzOi8vZXJwLnVubG9naWMucnUvYXBpL3YxL3N1cGVydmlzb3IvdGFzaycsIG51bGwsIG51bGwsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlcy5kYXRhLmVycm9yKTsKCiAgICAgIGlmIChyZXMuZGF0YS5lcnJvcikgewogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhKTsKCiAgICAgICAgX3RoaXMyLnNob3dOb3RpZmljYXRpb24ocmVzLmRhdGEuZGF0YSwgJ3JlZCcpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzMi4kc3RvcmUuc3RhdGUuc2FsZXMgPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi4kc3RvcmUuc3RhdGUuc2FsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3RoaXMyLiRzdG9yZS5zdGF0ZS5zYWxlc1tpXTsKCiAgICAgICAgICBpZiAoaXRlbS5UYXNrVHlwZSA9PSAwIHx8IGl0ZW0uVGFza1R5cGUgPT0gMSkgewogICAgICAgICAgICBfdGhpczIuY29uZmlybUFyci5wdXNoKGl0ZW0pOwoKICAgICAgICAgICAgX3RoaXMyLmNvbmZpcm1BcnJbX3RoaXMyLmNvbmZpcm1BcnIubGVuZ3RoIC0gMV0ubG9zdEluZGV4ID0gaTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5sZWFybkFyci5wdXNoKGl0ZW0pOwoKICAgICAgICAgICAgX3RoaXMyLmxlYXJuQXJyW190aGlzMi5sZWFybkFyci5sZW5ndGggLSAxXS5sb3N0SW5kZXggPSBpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIuc2hvd05vdGlmaWNhdGlvbign0KHQtdGA0LLQtdGAINCy0YDQtdC80LXQvdC90L4g0L3QtdC00L7RgdGC0YPQv9C10L0nLCAncmVkJyk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["Sellers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA,OAAA,IAAA,MAAA,+BAAA;AACA,OAAA,SAAA,MAAA,oCAAA;AACA,OAAA,QAAA,MAAA,iCAAA;AACA,OAAA,cAAA,MAAA,qCAAA;AACA,OAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,cAAA,EAAA;AAJA,GAFA;AAQA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,OADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,WAAA,EAAA,KAJA;AAKA,MAAA,UAAA,EAAA,IAAA,KAAA,EALA;AAMA,MAAA,QAAA,EAAA,IAAA,KAAA;AANA,KAAA;AAQA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,IADA,EACA,KADA,EACA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AARA,GAlBA;AA4BA,EAAA,YA5BA,0BA4BA;AAAA;;AACA,IAAA,KAAA,CAAA,SAAA,CACA,KADA,EAEA,+CAFA,EAGA,IAHA,EAIA,IAJA,EAKA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA;AACA,OAHA,MAGA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;;AACA,cAAA,IAAA,CAAA,QAAA,IAAA,CAAA,IAAA,IAAA,CAAA,QAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,MAAA,CAAA,UAAA,CAAA,MAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA,SAAA,GAAA,CAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA,SAAA,GAAA,CAAA;AACA;AACA;AACA;AACA,KAvBA,EAwBA,YAAA;AAAA,MAAA,MAAA,CAAA,gBAAA,CAAA,4BAAA,EAAA,KAAA;AAAA,KAxBA;AA0BA;AAvDA,CAAA","sourcesContent":["<template>\n  <div class=\"sellers\">\n    <MyHeader/>\n    <h2 v-if=\"$store.state.sales.length == 0\">Список пуст</h2>\n    <div class=\"content\" v-else>\n      <h2 v-if=\"confirmArr.length > 0\">Задачи согласования:</h2>\n      <div class=\"sales-wrap\">\n        <Sale v-for=\"(item, idx) in confirmArr\" :key=\"idx\"\n            :day=\"new Date(item.Deadline).getDate()\"\n            :month=\"new Date(item.Deadline).getMonth()\"\n            :company=\"item.Partner\"\n            :inn=\"item.INN\"\n            :saleIndex=\"item.lostIndex\"\n            @toggleModal=\"isModalOpen=true\"/>        \n      </div>\n      <h2 v-if=\"learnArr.length > 0\">Задачи ознакомления:</h2>\n      <div class=\"sales-wrap\">\n        <Sale v-for=\"(item, idx) in learnArr\" :key=\"idx\"\n              :day=\"new Date(item.Deadline).getDate()\"\n              :month=\"new Date(item.Deadline).getMonth()\"\n              :company=\"item.Partner\"\n              :inn=\"item.INN\"\n              :saleIndex=\"item.lostIndex\"\n              @toggleModal=\"isModalOpen=true\"/>        \n      </div>\n      <SaleModal\n              v-bind:is-open=\"isModalOpen\"\n              @toggleModal=\"isModalOpen=false\"/>  \n    </div>\n    <myNotification\n        :text=\"not_text\"\n        :textColor=\"not_color\"\n        v-show=\"is_not_show\"/>        \n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Sale from '@/components/sellers/sale.vue'\nimport SaleModal from '@/components/sellers/saleModal.vue'\nimport MyHeader from '@/components/other/myHeader.vue'\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../assets/js-funcs/default-funcs.js'\n\nexport default {\n  name: 'sellers',\n  components: {\n    MyHeader,\n    Sale,\n    SaleModal,\n    myNotification    \n  },\n  data: () => {\n    return {\n      not_text: 'Error',\n      not_color: 'red',\n      isModalOpen: false,\n      is_not_show: false,\n      confirmArr: new Array(),\n      learnArr: new Array()\n    }\n  },\n  methods: {\n    showNotification(text, color) {\n      this.not_text = text;\n      this.not_color = color;\n      this.is_not_show = true;\n      setTimeout(() => {\n        this.is_not_show = false;\n      }, 1500);\n    }    \n  },\n  beforeCreate() {\n    Funcs.doRequest(\n      'get',\n      'https://erp.unlogic.ru/api/v1/supervisor/task',\n      null,\n      null,\n      res => {\n        window.console.log(res.data.error);\n        if (res.data.error) {\n          window.console.log(res.data.data);\n          this.showNotification(res.data.data, 'red');\n        } else {\n          this.$store.state.sales = res.data.data;\n          for (let i = 0; i < this.$store.state.sales.length; i++) {\n            let item = this.$store.state.sales[i];\n            if (item.TaskType == 0 || item.TaskType == 1) {\n              this.confirmArr.push(item);\n              this.confirmArr[this.confirmArr.length-1].lostIndex = i;\n            } else {\n              this.learnArr.push(item);\n              this.learnArr[this.learnArr.length-1].lostIndex = i;\n            }\n          }\n        }\n      },\n      () => { this.showNotification('Сервер временно недоступен', 'red') }\n    );\n  }\n}\n</script>\n\n<style lang=\"less\">\n\t@import url('../assets/less-templates/base.less');\n\t.sellers {\n\t\t.flex(column, flex-start, center);\n\t\twidth: 100%;\n    height: auto;\n\n    & h2 {\n      padding: 10px 0;\n    }\n\n    & .content {\n      .flex(column, flex-start, center);\n      width: 100%;\n      height: 100%;\n\n      & .sales-wrap {\n        .flex(column, flex-start, center);\n        width: 100%;\n        height: 100%;\n      }\n    }\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}