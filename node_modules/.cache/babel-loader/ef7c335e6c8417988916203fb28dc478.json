{"remainingRequest":"/Users/unlogic/sopo/node_modules/babel-loader/lib/index.js!/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/sopo/src/components/sellers/saleModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/unlogic/sopo/src/components/sellers/saleModal.vue","mtime":1579702230175},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbXlOb3RpZmljYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL290aGVyL25vdGlmaWNhdGlvbi52dWUnOwppbXBvcnQgRnVuY3MgZnJvbSAiLi4vLi4vYXNzZXRzL2pzLWZ1bmNzL2RlZmF1bHQtZnVuY3MuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NhbGVNb2RhbCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdF90ZXh0OiAnJywKICAgICAgbm90X2NvbG9yOiAnJywKICAgICAgaXNfbm90X3Nob3c6IGZhbHNlLAogICAgICBjb21tZW50OiBuZXcgU3RyaW5nKCcnKSwKICAgICAgY29uZmlybVdEOiBmYWxzZSwKICAgICAgaXNTZW5kOiBmYWxzZSwKICAgICAgbGltaXREYXRlOiBuZXcgU3RyaW5nKCcnKSwKICAgICAgZW1wbG95ZWU6IG5ldyBTdHJpbmcoJycpCiAgICB9OwogIH0sCiAgcHJvcHM6IFsnaXNPcGVuJ10sCiAgY29tcG9uZW50czogewogICAgbXlOb3RpZmljYXRpb246IG15Tm90aWZpY2F0aW9uCiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHsKICAgICAgdGhpcy4kZW1pdCgndG9nZ2xlTW9kYWwnLCBmYWxzZSk7CiAgICB9LAogICAgY2hlY2tBcHJvb3ZlOiBmdW5jdGlvbiBjaGVja0Fwcm9vdmUoYXByb292ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY29tbWVudCA9PSAnJykgewogICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbign0JfQsNC/0L7Qu9C90LjRgtC1INC/0L7Qu9C1INC60L7QvNC80LXQvdGC0LDRgNC40Y8nLCAncmVkJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBpZDogdGhpcy4kc3RvcmUuc3RhdGUuc2FsZXNbdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlU2FsZUluZGV4XS5pZCwKICAgICAgICAgIENvbW1lbnQ6IHRoaXMuY29tbWVudCwKICAgICAgICAgIGNvbmZpcm1XaXRoRGlyZWN0b3I6IHRoaXMuY29uZmlybVdELAogICAgICAgICAgQXBwcm92ZWQ6IGFwcm9vdmUKICAgICAgICB9OwogICAgICAgIGlmICh0aGlzLmlzQWN0aXZlSW5kZXguVGFza1R5cGUgPT0gMiB8fCB0aGlzLmlzQWN0aXZlSW5kZXguVGFza1R5cGUgPT0gMykgZGVsZXRlIGRhdGEuY29uZmlybVdpdGhEaXJlY3RvcjsKICAgICAgICBGdW5jcy5kb1JlcXVlc3QoJ3Bvc3QnLCAnaHR0cHM6Ly9lcnAudW5sb2dpYy5ydS9hcGkvdjEvc3VwZXJ2aXNvci90YXNrJywgZGF0YSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIGNvbG9yID0gImdyZWVuIjsKCiAgICAgICAgICBpZiAocmVzLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgY29sb3IgPSAncmVkJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmNvbW1lbnQgPSBuZXcgU3RyaW5nKCcnKTsKICAgICAgICAgICAgX3RoaXMuY29uZmlybVdEID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpcy5oaWRlTW9kYWwoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5zaG93Tm90aWZpY2F0aW9uKHJlcy5kYXRhLmRhdGEsIGNvbG9yKTsKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zaG93Tm90aWZpY2F0aW9uKCfQodC10YDQstC10YAg0LLRgNC10LzQtdC90L3QviDQvdC10LTQvtGB0YLRg9C/0LXQvScsICdyZWQnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNob3dOb3RpZmljYXRpb246IGZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24odGV4dCwgY29sb3IpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLm5vdF90ZXh0ID0gdGV4dDsKICAgICAgdGhpcy5ub3RfY29sb3IgPSBjb2xvcjsKICAgICAgdGhpcy5pc19ub3Rfc2hvdyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5pc19ub3Rfc2hvdyA9IGZhbHNlOwogICAgICB9LCAxNTAwKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0FjdGl2ZUluZGV4OiBmdW5jdGlvbiBpc0FjdGl2ZUluZGV4KCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlU2FsZUluZGV4ICE9IG51bGwpIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zYWxlc1t0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVTYWxlSW5kZXhdO2Vsc2UgcmV0dXJuIHsKICAgICAgICBQYXJ0bmVyOiAn0J3QtdGCJywKICAgICAgICBJTk46ICfQndC10YInLAogICAgICAgIEF1dGhvcjogJ9Cd0LXRgicsCiAgICAgICAgRGVzY3JpcHRpb246ICfQndC10YInLAogICAgICAgIERlYWRsaW5lOiBuZXcgRGF0ZSgpCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["saleModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"modal-wrap\" :class=\"{ active: isOpen }\">\n\t\t<div class=\"hover\"></div>\n\t\t<div class=\"modal-frame\">\n\t\t\t<h2>Оставить комментарий</h2>\n\t\t\t<span>Партнер: {{ isActiveIndex.Partner }}</span>\n\t\t\t<span>ИНН: {{ isActiveIndex.INN }}</span>\n\t\t\t<span>Автор задачи: {{ isActiveIndex.Author }}</span>\n\t\t\t<span class=\"desc\">{{ isActiveIndex.Description }}</span>\n\t\t\t<span>Дата: {{ new Date(isActiveIndex.Deadline).toLocaleString().substring(0, 10) }}</span>\n\t\t\t<textarea placeholder=\"Введите комментарий сюда\" v-model=\"comment\"></textarea>\n\t\t\t<label v-if=\"isActiveIndex.TaskType == 0 || isActiveIndex.TaskType == 1\">\n\t\t\t\t<span>Согласовать с директором</span>\n\t\t\t\t<input type=\"checkbox\" v-model=\"confirmWD\">\n\t\t\t</label>\n\t\t\t<div class=\"btn-wrap\">\n\t\t\t\t<button @click=\"checkAproove(true)\">Согласовать</button>\n\t\t\t\t<button @click=\"checkAproove(false)\">Не согласовать</button>\n\t\t\t\t<button @click=\"hideModal()\">Отмена</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<myNotification\n\t\t\t:text=\"not_text\"\n\t\t\t:textColor=\"not_color\"\n\t\t\tv-show=\"is_not_show\"/>    \n\t</div>\n</template>\n\n<script>\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../../assets/js-funcs/default-funcs.js'\n\texport default {\n\t\tname: 'saleModal',\n\t\tdata: () => {\n\t\t\treturn {\n\t\t\t\tnot_text: '',\n\t\t\t\tnot_color: '',\n\t\t\t\tis_not_show: false,\n\t\t\t\tcomment: new String(''),\n\t\t\t\tconfirmWD: false,\n\t\t\t\tisSend: false,\n\t\t\t\tlimitDate: new String(''),\n\t\t\t\temployee: new String('')\n\t\t\t}\n\t\t},\n\t\tprops: ['isOpen'],\n\t\tcomponents: {\n\t\t\tmyNotification\n\t\t},\n\t\tmethods: {\n\t\t\thideModal() {\n\t\t\t\tthis.$emit('toggleModal', false);\n\t\t\t},\n\t\t\tcheckAproove(aproove) {\n\t\t\t\tif (this.comment == '') {\n\t\t\t\t\tthis.showNotification('Заполните поле комментария', 'red');\n\t\t\t\t} else {\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tid: this.$store.state.sales[this.$store.state.activeSaleIndex].id,\n\t\t\t\t\t\tComment : this.comment,\n\t\t\t\t\t\tconfirmWithDirector : this.confirmWD,\n\t\t\t\t\t\tApproved : aproove,\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isActiveIndex.TaskType == 2 || this.isActiveIndex.TaskType == 3)\n\t\t\t\t\t\tdelete data.confirmWithDirector;\n\t\t\t\t\tFuncs.doRequest(\n\t\t\t\t\t\t'post',\n\t\t\t\t\t\t'https://erp.unlogic.ru/api/v1/supervisor/task',\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\tlet color = \"green\";\n\t\t\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.comment = new String('');\n\t\t\t\t\t\t\t\tthis.confirmWD = false;\n\t\t\t\t\t\t\t\tthis.hideModal();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showNotification(res.data.data, color);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => { this.showNotification('Сервер временно недоступен', 'red'); }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowNotification(text, color) {\n\t\t\t\tthis.not_text = text;\n\t\t\t\tthis.not_color = color;\n\t\t\t\tthis.is_not_show = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.is_not_show = false;\n\t\t\t\t}, 1500);\n\t\t\t}    \t\t\t\n\t\t},\n\t\tcomputed: {\n\t\t\tisActiveIndex() {\n\t\t\t\tif (this.$store.state.activeSaleIndex != null) \n\t\t\t\t\treturn this.$store.state.sales[this.$store.state.activeSaleIndex];\n\t\t\t\telse \n\t\t\t\t\treturn {\n\t\t\t\t\t\tPartner: 'Нет',\n\t\t\t\t\t\tINN: 'Нет',\n\t\t\t\t\t\tAuthor: 'Нет',\n\t\t\t\t\t\tDescription: 'Нет',\n\t\t\t\t\t\tDeadline: new Date()\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t@import url('../../assets/less-templates/base.less');\n\t.modal-wrap {\n\t\tposition: absolute;\n\t\ttop: 35px;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100vh;\n\t\toverflow-y: scroll;\n\t\topacity: 0;\n\t\tz-index: -2;\n\t\ttransition: all .3s linear;\n\n\t\t& .hover {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: #000;\n\t\t\topacity: .7;\n\t\t}\n\n\t\t& .modal-frame {\n\t\t\t.flex(column, flex-start, center);\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100vh;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tpadding: 0 5px;\n\t\t\tborder-radius: 2px;\n\t\t\tmin-height: 100vh;\n\t\t\theight: auto;\n\t\t\tbackground: @green-color;\n\t\t\tcolor: #fff;\n\n\t\t\t& h2 {\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 10px 0;\n\t\t\t\ttext-align: left;\t\t\n\t\t\t\tfont-size: 1.2em;\t\n\t\t\t\tborder-bottom: 1px solid #eee;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t\n\t\t\t& textarea, input {\n\t\t\t\t.input();\n\t\t\t}\n\n\t\t\t& textarea {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 150px;\n\t\t\t\tpadding: 10px;\n\t\t\t}\n\n\t\t\t& span {\n\t\t\t\tpadding: 5px 0;\n\t\t\t\tmargin: 5px 0;\n\t\t\t\tfont-size: 1.1em;\n\t\t\t\twidth: 100%;\n\t\t\t\ttext-align: left;\n\t\t\t}\n\n\t\t\t& .desc {\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t\ttext-align: left;\n\t\t\t\tfont-size: .9em;\n\t\t\t\tborder: none;\n\t\t\t\tborder-left: 2px solid #ffffff4d;\n\t\t\t\tpadding-left: 10px;\n\t\t\t}\n\n\t\t\t& label {\n\t\t\t\t.flex(row, center, center);\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 5px 0;\n\t\t\t\t& span {\n\t\t\t\t\twidth: auto;\n\t\t\t\t\tpadding: 0 5px;\n\t\t\t\t}\n\t\t\t\t& input {\n\t\t\t\t\t.kartli-check();\n\t\t\t\t\theight: auto;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .btn-wrap {\n\t\t\t\t.flex(row, center, center);\n\t\t\t\twidth: 100%;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tpadding: 10px 0;\n\t\t\t\t& button {\n\t\t\t\t\t.button(5px, @green-color, #fff);\n\t\t\t\t\tmargin: 10px;\n\t\t\t\t}\n\n\t\t\t\t& button:nth-child(2) {\n\t\t\t\t\t.button(5px, #fff, @green-color);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.active {\n\t\tz-index: 100;\n\t\topacity: 1;\n\t}\n</style>"],"sourceRoot":"src/components/sellers"}]}