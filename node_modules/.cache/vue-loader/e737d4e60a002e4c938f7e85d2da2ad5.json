{"remainingRequest":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/sopo/src/components/security/secModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/unlogic/sopo/src/components/security/secModal.vue","mtime":1579704704747},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBteU5vdGlmaWNhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvb3RoZXIvbm90aWZpY2F0aW9uLnZ1ZScKaW1wb3J0IEZ1bmNzIGZyb20gJy4uLy4uL2Fzc2V0cy9qcy1mdW5jcy9kZWZhdWx0LWZ1bmNzLmpzJwoKCWV4cG9ydCBkZWZhdWx0IHsKCQluYW1lOiAnc2VjTW9kYWwnLAoJCXByb3BzOiBbJ2lzT3BlbiddLAoJCWNvbXBvbmVudHM6IHsKCQkJbXlOb3RpZmljYXRpb24KCQl9LAoJCWRhdGE6ICgpID0+IHsKCQkJcmV0dXJuIHsKCQkJCWNvbW1lbnQ6IG5ldyBTdHJpbmcoKSwKCQkJCW5vdF90ZXh0OiBuZXcgU3RyaW5nKCksCgkJCQlub3RfY29sb3I6IG5ldyBTdHJpbmcoKSwKCQkJCWlzX25vdF9zaG93OiBmYWxzZQoJCQl9CgkJfSwKCQljb21wdXRlZDogewoJCQlpc0FjdGl2ZUluZGV4KCkgewoJCQkJd2luZG93LmNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVRhc2tJbmRleCk7CgkJCQlpZiAodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlVGFza0luZGV4ICE9IG51bGwpIAoJCQkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1t0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVUYXNrSW5kZXhdOwoJCQkJZWxzZSAKCQkJCQlyZXR1cm4gewoJCQkJCQlQYXJ0bmVyOiAn0J3QtdGCJywKCQkJCQkJSU5OOiAn0J3QtdGCJywKCQkJCQkJQXV0aG9yOiAn0J3QtdGCJywKCQkJCQkJRGVzY3JpcHRpb246ICfQndC10YInLAoJCQkJCQlEZWFkbGluZTogbmV3IERhdGUoKQoJCQkJCX0KCQkJfQoJCX0sCgkJbWV0aG9kczogewoJCQloaWRlTW9kYWwoKSB7CgkJCQl0aGlzLiRlbWl0KCd0b2dnbGVNb2RhbCcsIGZhbHNlKTsKCQkJfSwKCQkJc2hvd05vdGlmaWNhdGlvbih0ZXh0LCBjb2xvcikgewoJCQkJdGhpcy5ub3RfdGV4dCA9IHRleHQ7CgkJCQl0aGlzLm5vdF9jb2xvciA9IGNvbG9yOwoJCQkJdGhpcy5pc19ub3Rfc2hvdyA9IHRydWU7CgkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQl0aGlzLmlzX25vdF9zaG93ID0gZmFsc2U7CgkJCQkJdGhpcy5oaWRlTW9kYWwoKTsKCQkJCX0sIDE1MDApOwoJCQl9LAoJCQlmaW5pc2hUYXNrKCkgewoJCQkJbGV0IGRhdGEgPSB7CgkJCQkJaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW3RoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVRhc2tJbmRleF0uaWQsCgkJCQkJQ29tbWVudDogdGhpcy5jb21tZW50CgkJCQl9CgkJCQlGdW5jcy5kb1JlcXVlc3QoCgkJCQkJJ3Bvc3QnLAoJCQkJCSdodHRwczovL2VycC51bmxvZ2ljLnJ1L2FwaS92MS9zZWN1cml0eS90YXNrJywKCQkJCQlkYXRhLAoJCQkJCW51bGwsCgkJCQkJcmVzID0+IHsKCQkJCQkJbGV0IGNvbG9yID0gJ2dyZWVuJzsKCQkJCQkJaWYgKHJlcy5kYXRhLmVycm9yKSB7CgkJCQkJCQljb2xvciA9ICdyZWQnOwoJCQkJCQl9CgkJCQkJCXRoaXMuc2hvd05vdGlmaWNhdGlvbihyZXMuZGF0YS5kYXRhLCBjb2xvcik7CgkJCQkJfSwKCQkJCQkoKSA9PiB7IHRoaXMuc2hvd05vdGlmaWNhdGlvbign0KHQtdGA0LLQtdGAINCy0YDQtdC80LXQvdC90L4g0L3QtdC00L7RgdGC0YPQv9C10L0nLCAncmVkJykgfQoJCQkJKQoJCQl9CgkJfQoJfQo="},{"version":3,"sources":["secModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"secModal.vue","sourceRoot":"src/components/security","sourcesContent":["<template>\n\t<div class=\"modal-wrap\" :class=\"{ active: isOpen }\">\n\t\t<div class=\"hover\"></div>\n\t\t<div class=\"modal-frame\">\n\t\t\t<h2>Поручение</h2>\n\t\t\t<span>Компания: {{ isActiveIndex.Partner }}</span>\n\t\t\t<span>ИНН: {{ isActiveIndex.INN }}</span>\n\t\t\t<span>Дата: {{ new Date(isActiveIndex.Deadline).toLocaleString().substring(0, 10) }}</span>\n\t\t\t<span class=\"desc\">{{ isActiveIndex.Description }}</span>\n\t\t\t<textarea placeholder=\"Оставьте комментарий\" v-model=\"comment\"></textarea>\n\t\t\t<div class=\"btn-wrap\">\n\t\t\t\t<button @click=\"finishTask()\">Применить</button>\n\t\t\t\t<button @click=\"hideModal()\">Закрыть</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<myNotification\n\t\t\t\t:text=\"not_text\"\n\t\t\t\t:textColor=\"not_color\"\n\t\t\t\tv-show=\"is_not_show\"/>\n\t</div>\n</template>\n\n<script>\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../../assets/js-funcs/default-funcs.js'\n\n\texport default {\n\t\tname: 'secModal',\n\t\tprops: ['isOpen'],\n\t\tcomponents: {\n\t\t\tmyNotification\n\t\t},\n\t\tdata: () => {\n\t\t\treturn {\n\t\t\t\tcomment: new String(),\n\t\t\t\tnot_text: new String(),\n\t\t\t\tnot_color: new String(),\n\t\t\t\tis_not_show: false\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tisActiveIndex() {\n\t\t\t\twindow.console.log(this.$store.state.activeTaskIndex);\n\t\t\t\tif (this.$store.state.activeTaskIndex != null) \n\t\t\t\t\treturn this.$store.state.tasks[this.$store.state.activeTaskIndex];\n\t\t\t\telse \n\t\t\t\t\treturn {\n\t\t\t\t\t\tPartner: 'Нет',\n\t\t\t\t\t\tINN: 'Нет',\n\t\t\t\t\t\tAuthor: 'Нет',\n\t\t\t\t\t\tDescription: 'Нет',\n\t\t\t\t\t\tDeadline: new Date()\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thideModal() {\n\t\t\t\tthis.$emit('toggleModal', false);\n\t\t\t},\n\t\t\tshowNotification(text, color) {\n\t\t\t\tthis.not_text = text;\n\t\t\t\tthis.not_color = color;\n\t\t\t\tthis.is_not_show = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.is_not_show = false;\n\t\t\t\t\tthis.hideModal();\n\t\t\t\t}, 1500);\n\t\t\t},\n\t\t\tfinishTask() {\n\t\t\t\tlet data = {\n\t\t\t\t\tid: this.$store.state.tasks[this.$store.state.activeTaskIndex].id,\n\t\t\t\t\tComment: this.comment\n\t\t\t\t}\n\t\t\t\tFuncs.doRequest(\n\t\t\t\t\t'post',\n\t\t\t\t\t'https://erp.unlogic.ru/api/v1/security/task',\n\t\t\t\t\tdata,\n\t\t\t\t\tnull,\n\t\t\t\t\tres => {\n\t\t\t\t\t\tlet color = 'green';\n\t\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showNotification(res.data.data, color);\n\t\t\t\t\t},\n\t\t\t\t\t() => { this.showNotification('Сервер временно недоступен', 'red') }\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t@import url('../../assets/less-templates/base.less');\n\t.modal-wrap {\n\t\tposition: fixed;\n\t\ttop: 35px;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100vh;\n\t\topacity: 0;\n\t\tz-index: -2;\n\t\ttransition: all .3s linear;\n\n\t\t& .hover {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: #000;\n\t\t\topacity: .7;\n\t\t}\n\n\t\t& .modal-frame {\n\t\t\t.flex(column, flex-start, center);\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tpadding: 5px 10px;\n\t\t\tborder-radius: 2px;\n\t\t\tbackground: @green-color;\n\t\t\tcolor: #fff;\n\n\t\t\t& h2 {\n\t\t\t\ttext-align: left;\n\t\t\t\tborder-bottom: 1px solid #fff;\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 5px 0;\n\t\t\t}\n\n\t\t\t& span {\n\t\t\t\tpadding: 10px 0;\n\t\t\t\twidth: 100%;\n\t\t\t\ttext-align: left;\n\t\t\t}\n\n\t\t\t& .desc {\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t\ttext-align: left;\n\t\t\t\tfont-size: .9em;\n\t\t\t\tborder: none;\n\t\t\t\tborder-left: 2px solid #ffffff4d;\n\t\t\t\tpadding-left: 10px;\n\t\t\t}\n\n\t\t\t& textarea {\n\t\t\t\t.input();\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100px;\n\t\t\t\tmargin: 10px 0;\n\t\t\t\tpadding: 10px;\n\t\t\t}\n\n\n\t\t\t& .btn-wrap {\n\t\t\t\t.flex(row, center, center);\n\t\t\t\twidth: 100%;\n\t\t\t\t& button {\n\t\t\t\t\t.button(5px, @green-color, #fff);\n\t\t\t\t\tmargin: 10px;\n\t\t\t\t}\n\n\t\t\t\t& button:last-child {\n\t\t\t\t\t.button(5px, #fff, @green-color);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.active {\n\t\tz-index: 100;\n\t\topacity: 1;\n\t}\n</style>"]}]}