{"remainingRequest":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/sopo/src/components/logist/actionsWrap.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/unlogic/sopo/src/components/logist/actionsWrap.vue","mtime":1578974062000},{"path":"/Users/unlogic/sopo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/sopo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCB1cmwoJy4uLy4uL2Fzc2V0cy9sZXNzLXRlbXBsYXRlcy9iYXNlLmxlc3MnKTsKLmFjdGlvbnMtd3JhcCB7CgkuZmxleChyb3csIHNwYWNlLWJldHdlZW4sIGNlbnRlcik7CglmbGV4LXdyYXA6IHdyYXA7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwcHg7CgltYXJnaW46IDEwcHggMDsKCXBhZGRpbmc6IDEwcHg7CgoJJiBpbnB1dCwgc2VsZWN0IHsKCQkuaW5wdXQoKTsKCQl3aWR0aDogNDUlOwoJfQoKCSYgLmJ0bi13cmFwIHsKCQkuZmxleChyb3csIGNlbnRlciwgY2VudGVyKTsKCQl3aWR0aDogMTAwJTsKCQltYXJnaW46IDEwcHggMCAwIDA7Cgl9CgoJJiBidXR0b24gewoJCS5idXR0b24oNXB4LCBAZ3JlZW4tY29sb3IsICNmZmYpOwoJCW1hcmdpbjogMCA1cHg7Cgl9CgoJJiBidXR0b246bGFzdC1jaGlsZCB7CgkJLmJ1dHRvbig1cHgsICNmZmYsIEBncmVlbi1jb2xvcik7Cgl9Cn0KCi5zbGlkZS1mYWRlLWVudGVyLWFjdGl2ZSB7Cgl0cmFuc2l0aW9uOiBhbGwgLjNzIGxpbmVhcjsKfQouc2xpZGUtZmFkZS1sZWF2ZS1hY3RpdmUgewoJdHJhbnNpdGlvbjogYWxsIC4ycyBsaW5lYXI7Cn0KLnNsaWRlLWZhZGUtZW50ZXIgewoJdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpOwoJb3BhY2l0eTogMDsKfQouc2xpZGUtZmFkZS1sZWF2ZS10byB7Cgl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwoJb3BhY2l0eTogMDsKfQo="},{"version":3,"sources":["actionsWrap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"actionsWrap.vue","sourceRoot":"src/components/logist","sourcesContent":["<template>\n\t<transition name=\"slide-fade\">\n\t\t<div class=\"actions-wrap\" v-show=\"getSome\">\n\t\t\t<select v-model=\"currentStatus\">\n\t\t\t\t<option value=\"Товар отгружен\">Товар отгружен</option>\n\t\t\t\t<option value=\"Отменено\">Отменено</option>\n\t\t\t\t<option value=\"Товар получен\">Товар получен</option>\n\t\t\t</select>\n\t\t\t<input type=\"date\">\n\t\t\t<div class=\"btn-wrap\">\n\t\t\t\t<button @click=\"saveChanges()\">Изменить</button>\n\t\t\t</div>\n\t\t\t<myNotification\n\t\t\t\t\t:text=\"not_text\"\n\t\t\t\t\t:textColor=\"not_color\"\n\t\t\t\t\tv-show=\"is_not_show\"/>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../../assets/js-funcs/default-funcs.js'\n\n\texport default {\n\t\tname: 'actionsWrap',\n\t\tcomponents: {\n\t\t\tmyNotification\n\t\t},\n\t\tdata: () => {\n\t\t\treturn {\n\t\t\t\tnot_text: 'Error',\n\t\t\t\tnot_color: 'red',\n\t\t\t\tis_not_show: false,\n\t\t\t\tcurrentStatus: 'Товар отгружен'\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tshowNotification(text, color) {\n\t\t\t\tthis.not_text = text;\n\t\t\t\tthis.not_color = color;\n\t\t\t\tthis.is_not_show = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.is_not_show = false;\n\t\t\t\t}, 1500);\n\t\t\t},\n\t\t\tsaveChanges() {\n\t\t\t\tlet arr = new Array();\n\t\t\t\tfor (let i = 0; i < this.$store.state.ttns.length; i++) {\n\t\t\t\t\tlet item = this.$store.state.ttns[i];\n\t\t\t\t\tif (item.isChecked == true) {\n\t\t\t\t\t\tlet old = item.TTNStatus;\n\t\t\t\t\t\titem.TTNStatus = this.currentStatus;\n\t\t\t\t\t\tarr.push(item);\n\t\t\t\t\t\tarr[arr.length-1].old_status = old;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tFuncs.doRequest(\n\t\t\t\t\t'post',\n\t\t\t\t\t'https://erp.unlogic.ru/api/v1/logistic/ttn',\n\t\t\t\t\tarr,\n\t\t\t\t\tres => {\n\t\t\t\t\t\tlet color = 'green';\n\t\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showNotification(res.data.data, color);\n\t\t\t\t\t},\n\t\t\t\t\t() => { this.showNotification('Сервер временно недоступен', 'red') }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tgetSome() {\n\t\t\t\tlet arr = this.$store.getters.getTtns;\n\t\t\t\tlet flag = false;\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].isChecked == true)\n\t\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t\treturn flag;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t@import url('../../assets/less-templates/base.less');\n\t.actions-wrap {\n\t\t.flex(row, space-between, center);\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tmargin: 10px 0;\n\t\tpadding: 10px;\n\n\t\t& input, select {\n\t\t\t.input();\n\t\t\twidth: 45%;\n\t\t}\n\n\t\t& .btn-wrap {\n\t\t\t.flex(row, center, center);\n\t\t\twidth: 100%;\n\t\t\tmargin: 10px 0 0 0;\n\t\t}\n\n\t\t& button {\n\t\t\t.button(5px, @green-color, #fff);\n\t\t\tmargin: 0 5px;\n\t\t}\n\n\t\t& button:last-child {\n\t\t\t.button(5px, #fff, @green-color);\n\t\t}\n\t}\n\n\t.slide-fade-enter-active {\n\t\ttransition: all .3s linear;\n\t}\n\t.slide-fade-leave-active {\n\t\ttransition: all .2s linear;\n\t}\n\t.slide-fade-enter {\n\t\ttransform: translateY(20px);\n\t\topacity: 0;\n\t}\n\t.slide-fade-leave-to {\n\t\ttransform: translateY(-20px);\n\t\topacity: 0;\n\t}\n</style>\n"]}]}