{"remainingRequest":"/Users/unlogic/innerServices/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/unlogic/innerServices/src/components/logist/actionsWrap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/unlogic/innerServices/src/components/logist/actionsWrap.vue","mtime":1578974062000},{"path":"/Users/unlogic/innerServices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/unlogic/innerServices/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBteU5vdGlmaWNhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvb3RoZXIvbm90aWZpY2F0aW9uLnZ1ZScKaW1wb3J0IEZ1bmNzIGZyb20gJy4uLy4uL2Fzc2V0cy9qcy1mdW5jcy9kZWZhdWx0LWZ1bmNzLmpzJwoKCWV4cG9ydCBkZWZhdWx0IHsKCQluYW1lOiAnYWN0aW9uc1dyYXAnLAoJCWNvbXBvbmVudHM6IHsKCQkJbXlOb3RpZmljYXRpb24KCQl9LAoJCWRhdGE6ICgpID0+IHsKCQkJcmV0dXJuIHsKCQkJCW5vdF90ZXh0OiAnRXJyb3InLAoJCQkJbm90X2NvbG9yOiAncmVkJywKCQkJCWlzX25vdF9zaG93OiBmYWxzZSwKCQkJCWN1cnJlbnRTdGF0dXM6ICfQotC+0LLQsNGAINC+0YLQs9GA0YPQttC10L0nCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJc2hvd05vdGlmaWNhdGlvbih0ZXh0LCBjb2xvcikgewoJCQkJdGhpcy5ub3RfdGV4dCA9IHRleHQ7CgkJCQl0aGlzLm5vdF9jb2xvciA9IGNvbG9yOwoJCQkJdGhpcy5pc19ub3Rfc2hvdyA9IHRydWU7CgkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQl0aGlzLmlzX25vdF9zaG93ID0gZmFsc2U7CgkJCQl9LCAxNTAwKTsKCQkJfSwKCQkJc2F2ZUNoYW5nZXMoKSB7CgkJCQlsZXQgYXJyID0gbmV3IEFycmF5KCk7CgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLnR0bnMubGVuZ3RoOyBpKyspIHsKCQkJCQlsZXQgaXRlbSA9IHRoaXMuJHN0b3JlLnN0YXRlLnR0bnNbaV07CgkJCQkJaWYgKGl0ZW0uaXNDaGVja2VkID09IHRydWUpIHsKCQkJCQkJbGV0IG9sZCA9IGl0ZW0uVFROU3RhdHVzOwoJCQkJCQlpdGVtLlRUTlN0YXR1cyA9IHRoaXMuY3VycmVudFN0YXR1czsKCQkJCQkJYXJyLnB1c2goaXRlbSk7CgkJCQkJCWFyclthcnIubGVuZ3RoLTFdLm9sZF9zdGF0dXMgPSBvbGQ7CgkJCQkJfQoJCQkJfQoJCQkJRnVuY3MuZG9SZXF1ZXN0KAoJCQkJCSdwb3N0JywKCQkJCQknaHR0cHM6Ly9lcnAudW5sb2dpYy5ydS9hcGkvdjEvbG9naXN0aWMvdHRuJywKCQkJCQlhcnIsCgkJCQkJcmVzID0+IHsKCQkJCQkJbGV0IGNvbG9yID0gJ2dyZWVuJzsKCQkJCQkJaWYgKHJlcy5kYXRhLmVycm9yKSB7CgkJCQkJCQljb2xvciA9ICdyZWQnOwoJCQkJCQl9CgkJCQkJCXRoaXMuc2hvd05vdGlmaWNhdGlvbihyZXMuZGF0YS5kYXRhLCBjb2xvcik7CgkJCQkJfSwKCQkJCQkoKSA9PiB7IHRoaXMuc2hvd05vdGlmaWNhdGlvbign0KHQtdGA0LLQtdGAINCy0YDQtdC80LXQvdC90L4g0L3QtdC00L7RgdGC0YPQv9C10L0nLCAncmVkJykgfQoJCQkJKTsKCQkJfQoJCX0sCgkJY29tcHV0ZWQ6IHsKCQkJZ2V0U29tZSgpIHsKCQkJCWxldCBhcnIgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFR0bnM7CgkJCQlsZXQgZmxhZyA9IGZhbHNlOwoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAoYXJyW2ldLmlzQ2hlY2tlZCA9PSB0cnVlKQoJCQkJCQlmbGFnID0gdHJ1ZTsKCQkJCX0KCQkJCXJldHVybiBmbGFnOwoJCQl9CgkJfQoJfQo="},{"version":3,"sources":["actionsWrap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"actionsWrap.vue","sourceRoot":"src/components/logist","sourcesContent":["<template>\n\t<transition name=\"slide-fade\">\n\t\t<div class=\"actions-wrap\" v-show=\"getSome\">\n\t\t\t<select v-model=\"currentStatus\">\n\t\t\t\t<option value=\"Товар отгружен\">Товар отгружен</option>\n\t\t\t\t<option value=\"Отменено\">Отменено</option>\n\t\t\t\t<option value=\"Товар получен\">Товар получен</option>\n\t\t\t</select>\n\t\t\t<input type=\"date\">\n\t\t\t<div class=\"btn-wrap\">\n\t\t\t\t<button @click=\"saveChanges()\">Изменить</button>\n\t\t\t</div>\n\t\t\t<myNotification\n\t\t\t\t\t:text=\"not_text\"\n\t\t\t\t\t:textColor=\"not_color\"\n\t\t\t\t\tv-show=\"is_not_show\"/>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport myNotification from '@/components/other/notification.vue'\nimport Funcs from '../../assets/js-funcs/default-funcs.js'\n\n\texport default {\n\t\tname: 'actionsWrap',\n\t\tcomponents: {\n\t\t\tmyNotification\n\t\t},\n\t\tdata: () => {\n\t\t\treturn {\n\t\t\t\tnot_text: 'Error',\n\t\t\t\tnot_color: 'red',\n\t\t\t\tis_not_show: false,\n\t\t\t\tcurrentStatus: 'Товар отгружен'\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tshowNotification(text, color) {\n\t\t\t\tthis.not_text = text;\n\t\t\t\tthis.not_color = color;\n\t\t\t\tthis.is_not_show = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.is_not_show = false;\n\t\t\t\t}, 1500);\n\t\t\t},\n\t\t\tsaveChanges() {\n\t\t\t\tlet arr = new Array();\n\t\t\t\tfor (let i = 0; i < this.$store.state.ttns.length; i++) {\n\t\t\t\t\tlet item = this.$store.state.ttns[i];\n\t\t\t\t\tif (item.isChecked == true) {\n\t\t\t\t\t\tlet old = item.TTNStatus;\n\t\t\t\t\t\titem.TTNStatus = this.currentStatus;\n\t\t\t\t\t\tarr.push(item);\n\t\t\t\t\t\tarr[arr.length-1].old_status = old;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tFuncs.doRequest(\n\t\t\t\t\t'post',\n\t\t\t\t\t'https://erp.unlogic.ru/api/v1/logistic/ttn',\n\t\t\t\t\tarr,\n\t\t\t\t\tres => {\n\t\t\t\t\t\tlet color = 'green';\n\t\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showNotification(res.data.data, color);\n\t\t\t\t\t},\n\t\t\t\t\t() => { this.showNotification('Сервер временно недоступен', 'red') }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tgetSome() {\n\t\t\t\tlet arr = this.$store.getters.getTtns;\n\t\t\t\tlet flag = false;\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].isChecked == true)\n\t\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t\treturn flag;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t@import url('../../assets/less-templates/base.less');\n\t.actions-wrap {\n\t\t.flex(row, space-between, center);\n\t\tflex-wrap: wrap;\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tmargin: 10px 0;\n\t\tpadding: 10px;\n\n\t\t& input, select {\n\t\t\t.input();\n\t\t\twidth: 45%;\n\t\t}\n\n\t\t& .btn-wrap {\n\t\t\t.flex(row, center, center);\n\t\t\twidth: 100%;\n\t\t\tmargin: 10px 0 0 0;\n\t\t}\n\n\t\t& button {\n\t\t\t.button(5px, @green-color, #fff);\n\t\t\tmargin: 0 5px;\n\t\t}\n\n\t\t& button:last-child {\n\t\t\t.button(5px, #fff, @green-color);\n\t\t}\n\t}\n\n\t.slide-fade-enter-active {\n\t\ttransition: all .3s linear;\n\t}\n\t.slide-fade-leave-active {\n\t\ttransition: all .2s linear;\n\t}\n\t.slide-fade-enter {\n\t\ttransform: translateY(20px);\n\t\topacity: 0;\n\t}\n\t.slide-fade-leave-to {\n\t\ttransform: translateY(-20px);\n\t\topacity: 0;\n\t}\n</style>\n"]}]}